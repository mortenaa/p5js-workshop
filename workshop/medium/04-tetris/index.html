<!DOCTYPE html><html lang="no"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><title>Tetris</title><link rel="stylesheet" href="/p5js-workshop/_astro/index.DipRzuJ1.css"></head> <body class="bg-gray-900 text-white font-sans text-lg leading-relaxed"> <main class="flex"> <aside class="w-1/4 bg-gray-800 p-8 border-r-2 border-gray-700 sticky top-0 h-screen"> <h2 class="text-3xl font-bold mb-8">Meny</h2> <nav> <ul> <li class="mb-6"> <h3 class="text-2xl font-bold capitalize mb-2">Lett</h3> <ul> <li class="mb-1"> <a href="/p5js-workshop/workshop/easy/01-introduction" class="block text-blue-300 hover:bg-gray-700 p-2 rounded"> Introduksjon </a> </li><li class="mb-1"> <a href="/p5js-workshop/workshop/easy/02-drawing-shapes" class="block text-blue-300 hover:bg-gray-700 p-2 rounded"> Tegne figurer </a> </li><li class="mb-1"> <a href="/p5js-workshop/workshop/easy/03-images" class="block text-blue-300 hover:bg-gray-700 p-2 rounded"> Vise bilder </a> </li><li class="mb-1"> <a href="/p5js-workshop/workshop/easy/04-colors" class="block text-blue-300 hover:bg-gray-700 p-2 rounded"> Jobbe med farger </a> </li> </ul> </li><li class="mb-6"> <h3 class="text-2xl font-bold capitalize mb-2">Middels</h3> <ul> <li class="mb-1"> <a href="/p5js-workshop/workshop/medium/01-variables" class="block text-blue-300 hover:bg-gray-700 p-2 rounded"> Variabler </a> </li><li class="mb-1"> <a href="/p5js-workshop/workshop/medium/02-bouncing-ball" class="block text-blue-300 hover:bg-gray-700 p-2 rounded"> Sprettende ball </a> </li><li class="mb-1"> <a href="/p5js-workshop/workshop/medium/03-tegnespillet" class="block text-blue-300 hover:bg-gray-700 p-2 rounded"> Tegnespillet </a> </li><li class="mb-1"> <a href="/p5js-workshop/workshop/medium/04-tetris" class="block text-blue-300 hover:bg-gray-700 p-2 rounded"> Tetris </a> </li><li class="mb-1"> <a href="/p5js-workshop/workshop/medium/06-uendelig_bakke" class="block text-blue-300 hover:bg-gray-700 p-2 rounded"> Uendelig bakke </a> </li> </ul> </li><li class="mb-6"> <h3 class="text-2xl font-bold capitalize mb-2">Avansert</h3> <ul> <li class="mb-1"> <a href="/p5js-workshop/workshop/advanced/01-interactivity" class="block text-blue-300 hover:bg-gray-700 p-2 rounded"> Interaktivitet </a> </li> </ul> </li> </ul> </nav> </aside> <div class="w-3/4 p-12 overflow-y-auto"> <h1 class="text-5xl font-bold mb-8">Tetris</h1>  <article class="prose prose-invert max-w-none"> <h1 id="introduksjon">Introduksjon:</h1>
<p>Lag starten på ditt eget tetris spill!</p>
<p>Det du skal gjøre i denne oppgava er først å sette opp bakgrunnen til spillet og så rett og slett å få firkanter til å falle over skjermen.</p>
<p>Slik vil det se ut når du er ferdig med oppgava:</p>
<p><img src="/p5js-workshop/images/tetris_end.png" alt="Tetris"></p>
<h2 id="steg-1-lag-dine-første-to-metoder">Steg 1: Lag dine første to metoder</h2>
<p>For hvert steg kommer det forklaring med eksempel og på slutten av steget kommer et bilde av hele koden. Bruk bildet av koden dersom du trenger det, men forsøk å skriv koden på egenhånd ved hjelp av forklaringen først.</p>
<h3 id="første-gjøremål">Første gjøremål</h3>
<ul class="contains-task-list">
<li class="task-list-item">
<p><input type="checkbox" disabled> La oss starte med å sette opp et vanlig vindu, dersom du ikke har åpna <a href="https://editor.p5js.org/" target="_blank" rel="noreferrer">p5.js web editor</a>, så må du gjøre det nå.</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled> Gi programmet ditt et navn ved å klikke på blyant-ikonet over teksteditoren og skrive inn et navn for prosjektet. Der etter, lagre prosjektet ved å klikke på «File» i verktøylinjen øverst og velge «Save».</p>
</li>
</ul>
<p>Det anbefales at du gir koden din et navn som har noe med spillet å gjøre, slik at det er lett å finne igjen.</p>
<p>p5.js web editor er en kodeeditor, det betyr at du kan skrive kode i den. Når du starter et nytt prosjekt i p5.js web editor, så vil det automatisk generere to metoder for deg, <code>setup()</code> og <code>draw()</code>. Alt som skrives inni metoden med navn <code>setup</code> skjer en gang når programmet starter, mens det som står inni <code>draw</code> kjører på nytt og på nytt helt til programmet avsluttes.</p>
<div class="code-wrapper"><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> setup</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">  createCanvas</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">400</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">400</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> draw</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">  background</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">220</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre><button class="copy-btn" type="button" data-code="function setup() {
  createCanvas(400, 400);
}

function draw() {
  background(220);
}" aria-label="Kopier kode til utklippstavlen">Kopier</button></div>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled> Nå kan du kjøre koden for å sjekke at metodene fungerer. For å kjøre koden trykker du på play-knappen Bilde av play knapppen opp til venstre i p5.js web editor.</li>
</ul>
<p>Dersom all koden din er riktig skal du få opp et lite vindu som ser slik ut:</p>
<p><img src="/p5js-workshop/images/tetris_start.png" alt="Tetris start"></p>
<h2 id="steg-2-vindusstørrelse">Steg 2: Vindusstørrelse</h2>
<p>Nå skal du bestemme størrelsen på vinduet, det gjør du ved å bruke en metode som noen allerede har skrevet ferdig. Når vi bruker en metode, så skriver vi navnet på metoden, deretter må vi ha parenteser, og til sist legger vi til semikolon. Når man bruker en metode som allerede er ferdigskrevet, så sier man at man kaller på en metode.</p>
<p>Her er et eksempel som kaller på metoden med navn <code>createCanvas</code>:</p>
<div class="code-wrapper"><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#B392F0">createCanvas</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">400</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">400</span><span style="color:#E1E4E8">);</span></span></code></pre><button class="copy-btn" type="button" data-code="createCanvas(400, 400);" aria-label="Kopier kode til utklippstavlen">Kopier</button></div>
<p>Mellom parentesene må man ofte sette inn informasjon, dette kalles parameter. Parameterne som må oppgis når man setter størrelsen på et vindu er rett og slett hvor stort vinduet skal være. Hvis metoden trenger flere parametre, bruker man komma , for å skille de:</p>
<div class="code-wrapper"><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#B392F0">createCanvas</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">100</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">200</span><span style="color:#E1E4E8">);</span></span></code></pre><button class="copy-btn" type="button" data-code="createCanvas(100, 200);" aria-label="Kopier kode til utklippstavlen">Kopier</button></div>
<p>I eksempelet over er 100 og 200 parametre.</p>
<p>Parametrene som bestemmer størrelsen på vinduet er oppgitt i piksler, så det kommer litt ann på skjermen din hvor mange piksler du ønsker at vinduet skal være. Prøv for eksempel med 600 og 900, og så kan du endre ett og ett tall helt til du får et vindu som du synes har riktig størrelse.</p>
<p>Slik kaller du på metoden som bestemmer størrelsen på vinduet:</p>
<div class="code-wrapper"><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#B392F0">createCanvas</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">600</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">900</span><span style="color:#E1E4E8">);</span></span></code></pre><button class="copy-btn" type="button" data-code="createCanvas(600, 900);" aria-label="Kopier kode til utklippstavlen">Kopier</button></div>
<p>Denne kodelinja må skrives inni setup, det betyr mellom de to krøllparentesene { og } som står etter setup().</p>
<hr>
<h3 id="hvor-mange-parametre">Hvor mange parametre?</h3>
<p>Når man kaller på en metode er det ikke alltid man vet nøyaktig hvilke parametre som skal legges ved. Da kan man enten se i manualen(<a href="https://p5js.org/reference/" target="_blank" rel="noreferrer"></a><a href="https://p5js.org/reference/">https://p5js.org/reference/</a>), søke etter svaret på internett, eller gjøre et metodekall uten parametre. Gjør du sistnevnte, vil du få opp en feilmelding nederst på skjermen. Feilmeldingen forteller hvor mange og hvilken type parametre som skal skrives mellom parentesene ( og ). Hvert parameter skilles av kommategn.</p>
<hr>
<h3 id="prøv-selv">Prøv selv</h3>
<ul class="contains-task-list">
<li class="task-list-item">
<p><input type="checkbox" disabled> Lag et vindu som er kvadratisk (like høyt som bredt).</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled> Lag et vindu som når helt fra høyre til venstre side av skjermen din.</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled> Lag et vindu som er ca. like stort som et russekort.</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled> Lag et vindu som du synes er passelig for å spille tetris i.</p>
</li>
</ul>
<h3 id="steg-3-bakgrunnsfarge">Steg 3: Bakgrunnsfarge</h3>
<p>På samme måte som <code>createCanvas</code> så er det også en ferdigskrevet metode som kan bestemme bakgrunnsfarge. Denne heter <code>background</code> og trenger enten ett eller tre parametre for å fungere. Alle parameterne må være heltall, eller int som det heter når man programerer. Tallene som brukes i background må være mellom 0 og 255. Tallene bestemmer hvor sterk lyspærene inni pc-skjermen skal lyse.</p>
<hr>
<h3 id="hvorfor-heter-det-int">Hvorfor heter det int?</h3>
<p>Heltall er tall som skrives uten komma, slik som 3, 110 og 77. Heltall heter på engelsk integer. int er altså en forkortelse for integer som betyr heltall.</p>
<p>Dersom man bare har en parameter, så får man hvit farge ved å skrive 255, svart ved å skrive 0. Hva tror du det blir for 128? Hva med 200? Her er et eksempel:</p>
<p><code>background(70);</code>
Når du bruker tre tall, kaller vi det RGB-farger. RGB står for rød, grønn og blå. Her er et eksempel:</p>
<p><code>background(20, 255, 170);</code>
Det betyr at det første tallet 20 bestemmer styrken på det røde lyset, det andre 255 på det grønne og det siste 170 på det blå. Ved å endre RGB-tallene kan man blande akkurat den fargen man ønsker.</p>
<p>Husk å avslutt linjen med semikolon. <code>background</code> skal slik som <code>createCanvas</code> inni draw-metoden.</p>
<h3 id="prøv-selv-1">Prøv selv</h3>
<ul class="contains-task-list">
<li class="task-list-item">
<p><input type="checkbox" disabled> Test med å først bare ha ett tall inni parentesen og endre på tallet, hva får du? Endre tallet minst 4 ganger og sjekk hvilken farge du får.</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled> Få bakgrunnsfargen til å bli svart.</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled> Få bakgrunnsfargen til å bli helt lysegrå.</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled> Få bakgrunnsfargen til å bli hvit.</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled> Prøv å sett inn tre forskjellige tall, og så endrer du på ett og ett av disse, hva skjer?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled> Hvilken farge får du dersom alle parametrene til background er 0?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled> Hvilken farge får du dersom alle parametrene til background er 255?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled> Få bakgrunnsfargen til å bli rød.</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled> Få bakgrunnsfargen til å bli gul.</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled>  Prøv tilfeldige tall og se hvilken farge du får.</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled> Finn en bakgrunnsfarge du liker og gå til neste steg.</p>
</li>
</ul>
<p>Her er et bilde av hvordan koden din skal se ut nå. Husk at du sikkert har funnet litt andre tall enn vi har.</p>
<div class="code-wrapper"><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> setup</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">  createCanvas</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">400</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">400</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> draw</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">  background</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">20</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">255</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">170</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre><button class="copy-btn" type="button" data-code="function setup() {
  createCanvas(400, 400);
}
function draw() {
  background(20, 255, 170);
}" aria-label="Kopier kode til utklippstavlen">Kopier</button></div>
<h2 id="steg-4-lag-en-firkant">Steg 4: Lag en firkant</h2>
<p>Nå skal du lage firkanten som senere skal falle over skjermen. For å lage en firkant bruker vi metodekallet <code>rect</code>. Dette trenger fire parameter, som bestemmer hvor firkanten skal plasseres og hvor stor den skal være. Metodekallet på <code>rect</code> skal du skrive inni <code>draw</code>-metoden.</p>
<p>Start for eksempel med disse tallene:</p>
<div class="code-wrapper"><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#B392F0">rect</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">275</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">10</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">50</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">50</span><span style="color:#E1E4E8">);</span></span></code></pre><button class="copy-btn" type="button" data-code="rect(275, 10, 50, 50);" aria-label="Kopier kode til utklippstavlen">Kopier</button></div>
<ul class="contains-task-list">
<li class="task-list-item">
<p><input type="checkbox" disabled> Endre de forskjellige tallene slik at du finner ut hva de står for.</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled> Endre plassering og størrelse til firkanten slik at den når fra toppen til bunnen av vinduet ditt.</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled> Tegn firkanten slik at den står midt i vinduet.</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled> La firkanten dekke hele vinduet. Hint: Du kan bruke minus foran tallene.</p>
</li>
</ul>
<p>Slik skal koden din se ut nå:</p>
<div class="code-wrapper"><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> setup</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">  createCanvas</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">600</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">900</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> draw</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">  background</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">20</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">255</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">170</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#B392F0">  rect</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">275</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">10</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">50</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">50</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre><button class="copy-btn" type="button" data-code="function setup() {
  createCanvas(600, 900);
}

function draw() {
  background(20, 255, 170);
  rect(275, 10, 50, 50);
}" aria-label="Kopier kode til utklippstavlen">Kopier</button></div>
<h2 id="steg-5-gi-firkanten-farge">Steg 5: Gi firkanten farge</h2>
<p>Nå skal du sette en farge på firkanten ved å gjøre et metodekall på <code>fill</code>. <code>fill</code> tar tre parameter, slik som background, men den fargelegger figurer i stedet for hele bakgrunnen. Denne må skrives inni <code>draw</code> og den må stå på linja over firkanten.</p>
<h3 id="prøv-selv-2">Prøv selv</h3>
<ul class="contains-task-list">
<li class="task-list-item">
<p><input type="checkbox" disabled> Førsøk å gjøre firkanten lilla.</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled> Gi firkanten en farge du liker.</p>
</li>
</ul>
<h2 id="steg-6-lag-en-variabel">Steg 6: Lag en variabel</h2>
<p>For å få firkanten til å falle må vi gjøre to ting. Vi må opprette en variabel som endrer seg og så må vi bruke variabelen i firkanten.</p>
<hr>
<h3 id="forklaring-av-variabler">Forklaring av variabler</h3>
<p>En variabel er noe som kan endre seg. Vi vil jo gjerne at firkanten skal bevege seg nedover skjermen, altså at firkanten skal endre posisjonen. Dette gjør vi ved å putte inn en variabel i stedet for tallet som bestemmer posisjonen til firkanten.</p>
<p>I den virkelige verden finnes det også variabler som man må endre og så har vi andre tall som alltid er de samme. For eksempel i en håndballkamp har man mange tall. Alle spillerne har sitt eget nummer på drakta. Ingen av spillerne skal bytte nummer under kampen, så derfor er nummeret trykt rett på skjorta. Det er også tall som viser hva stillingen i kampen er. Dette er ofte vist på ei svær tavle. Her endres tallene. Det hadde ikke fungert å trykke stillingen på ei skjorte før kampen. Derfor har de laget tavler, slik at stillingen kan oppdateres etterhvert som lagene får poeng. På samme måte, så lager vi variabler i programmering, slik at vi kan oppdatere de etterhvert som noe skjer i programmet. Alle variabler har sitt eget navn, slik som <code>poeng</code>, <code>liv</code>, <code>fart</code> eller lignende. Når de skal oppdateres, skriver vi for eksempel: <code>liv = 2</code>.</p>
<p>For å lage en variabel, må vi først sette av plass i minnet til PC-en, slik at den tar vare på et tall. Da trenger ikke PC-en å vite hva tallet er, men den har satt av plassen slik at det er ledig når vi begynner å bruke det.</p>
<p>Når vi skal lage en variabel i <em><strong>p5.js</strong></em>, så skriver vi <code>let</code> foran navnet på variabelen. For eksempel: <code>let x = 10;</code>. Her oppretter vi en variabel kalt <code>x</code> og setter verdien til 10. Eller vi kan skrive <code>let x;</code> og så senere i koden skrive <code>x = 10;</code>.</p>
<hr>
<p>Vi starter med å sette av plass i minnet, det heter å deklarere, eller opprette variabelen. Vi må gi et navn til variabelen, vi har valgt <code>posisjonY</code>, men du kan velge hvilket navn du ønsker. Det er lurt å velge et navn som sier noe om hva variabelen skal brukes til, slik at det er lettere å huske og forstå koden senere.</p>
<p>Kodelinja ser slik ut og skal stå over setup-metoden:</p>
<div class="code-wrapper"><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#F97583">let</span><span style="color:#E1E4E8"> posisjonY;</span></span></code></pre><button class="copy-btn" type="button" data-code="let posisjonY;" aria-label="Kopier kode til utklippstavlen">Kopier</button></div>
<p>Så skal vi bestemme hva <code>posisjonY</code> skal være når vi starter programmet, det skriver vi inni <code>setup</code>-metoden. Kodelinja skal se slik ut (husk at dersom du må bruke samme navn som på forrige kodelinje):</p>
<div class="code-wrapper"><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#E1E4E8">posisjonY </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 20</span><span style="color:#E1E4E8">;</span></span></code></pre><button class="copy-btn" type="button" data-code="posisjonY = 20;" aria-label="Kopier kode til utklippstavlen">Kopier</button></div>
<p>Så putter vi variabelen inn i firkanten vår. Det er argument nummer to som må byttes ut, og kodelinja hvor vi skriver firkanten ser slik ut:</p>
<div class="code-wrapper"><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#B392F0">rect</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">275</span><span style="color:#E1E4E8">, posisjonY, </span><span style="color:#79B8FF">50</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">50</span><span style="color:#E1E4E8">);</span></span></code></pre><button class="copy-btn" type="button" data-code="rect(275, posisjonY, 50, 50);" aria-label="Kopier kode til utklippstavlen">Kopier</button></div>
<p>Prøv selv og sjekk at dette fungerer før du fortsetter med steg 7 under.</p>
<h3 id="prøv-selv-3">Prøv selv</h3>
<ul class="contains-task-list">
<li class="task-list-item">
<p><input type="checkbox" disabled> Bytt ut 20 med for eksempen 200 i setup-metoden der du skriver hva posisjonY skal være. Hva skjer?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled> Sett posisjonY til tallet som får firkanten til å bli plassert helt på bunn av vinduet.</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled> Plasser firkanten så langt opp at du bare ser bunnen av firkanten. Hint: Du kan bruke negative tall.</p>
</li>
</ul>
<p>Her er koden så langt:</p>
<div class="code-wrapper"><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#F97583">let</span><span style="color:#E1E4E8"> posisjonY;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> setup</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">  createCanvas</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">600</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">900</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  posisjonY </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 20</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> draw</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">  background</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">20</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">255</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">170</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#B392F0">  fill</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">255</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#B392F0">  rect</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">275</span><span style="color:#E1E4E8">, posisjonY, </span><span style="color:#79B8FF">50</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">50</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre><button class="copy-btn" type="button" data-code="let posisjonY;

function setup() {
  createCanvas(600, 900);
  posisjonY = 20;
}

function draw() {
  background(20, 255, 170);
  fill(255);
  rect(275, posisjonY, 50, 50);
}" aria-label="Kopier kode til utklippstavlen">Kopier</button></div>
<h3 id="steg-7-beveg-firkanten">Steg 7: Beveg firkanten</h3>
<p>Nå må vi få firkanten til å bevege seg. Som vi skrev helt til å begynne med, så fungerer <code>draw</code> metoden slik at den repeteres. All koden inni <code>draw</code> blir lest gjennom fra toppen og til bunn. Når programmet er kommet til bunn av <code>draw</code>, da bare hopper det opp til starten og leser gjennom koden en gang til. Dette skjer helt til vi avslutter programmet.</p>
<p>For å få firkanten til å endre seg, så må vi oppdatere <code>posisjonY</code>. Det gjør vi ved å skrive dette inni <code>draw</code>-metoden:</p>
<div class="code-wrapper"><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#E1E4E8">posisjonY </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> posisjonY </span><span style="color:#F97583">+</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">;</span></span></code></pre><button class="copy-btn" type="button" data-code="posisjonY = posisjonY + 1;" aria-label="Kopier kode til utklippstavlen">Kopier</button></div>
<p>For hver gang programmet leser denne linja, så endrer den posisjon til å bli det samme som det den allerede er, pluss en. Det betyr at dersom posisjonen er 20, så vil den bli til 20 + 1 = 21 neste gang, og så 21 + 1 = 22 gangen etter og slik fortsetter det. Når man bruker ett = tegn i koding, så betyr det at man gir noe en verdi, ikke at tallene på begge sider av = tenget er det samme.</p>
<p>Kjør programmet og sjekk at firkanten faller.</p>
<h3 id="prøv-selv-4">Prøv selv</h3>
<ul class="contains-task-list">
<li class="task-list-item">
<p><input type="checkbox" disabled> Hvorfor tror firkanten faller? Prøv å forklare det med egne ord.</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled> Hva skjer om du setter + 10 i stedet for + 1 når du endrer posisjonY?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled> La endringen i posisjonY være større en høyden på firkanten. Hva skjer da?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled> Finn en fart firkanten kan falle i som du synes er passelig.</p>
</li>
</ul>
<p>Her er hele koden så langt:</p>
<div class="code-wrapper"><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#F97583">let</span><span style="color:#E1E4E8"> posisjonY;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> setup</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">  createCanvas</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">600</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">900</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  posisjonY </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 20</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> draw</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">  background</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">20</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">255</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">170</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#B392F0">  fill</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">255</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#B392F0">  rect</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">275</span><span style="color:#E1E4E8">, posisjonY, </span><span style="color:#79B8FF">50</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">50</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  posisjonY </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> posisjonY </span><span style="color:#F97583">+</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre><button class="copy-btn" type="button" data-code="let posisjonY;

function setup() {
  createCanvas(600, 900);
  posisjonY = 20;
}

function draw() {
  background(20, 255, 170);
  fill(255);
  rect(275, posisjonY, 50, 50);
  posisjonY = posisjonY + 1;
}" aria-label="Kopier kode til utklippstavlen">Kopier</button></div>
<h2 id="steg-8-flytte-background-til-setup">Steg 8: Flytte background til setup</h2>
<h3 id="prøv-selv-5">Prøv selv</h3>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled> Flytt <code>background</code>-metoden fra <code>draw</code> til slutten av <code>setup</code>. Hva skjer?</li>
</ul>
<p>Grunnen til at det blir tegna en stripe over skjermen er fordi bakgrunnsfargen i vinduet bare blir tegna en gang i setup-metoden. For å få det til å se ut som firkanten faller må metodekallet background bli flytta inn i draw metoden. Det er vanlig å kalle på background helt først i draw metoden.</p>
<ul class="contains-task-list">
<li class="task-list-item">
<p><input type="checkbox" disabled> Flytt kallet på background frem og tilbake fra draw til setup noen ganger og vær sikker på at du forstår hva som skjer.</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled> Behold kallet på background i draw. Da vil det se ut som firkanten faller, og det er det vi ønsker.</p>
</li>
</ul>
<p>Her er hele koden:</p>
<div class="code-wrapper"><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#F97583">let</span><span style="color:#E1E4E8"> posisjonY;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> setup</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">  createCanvas</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">600</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">900</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  posisjonY </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 20</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> draw</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">  background</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">20</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">255</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">170</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#B392F0">  fill</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">255</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#B392F0">  rect</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">275</span><span style="color:#E1E4E8">, posisjonY, </span><span style="color:#79B8FF">50</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">50</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  posisjonY </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> posisjonY </span><span style="color:#F97583">+</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre><button class="copy-btn" type="button" data-code="let posisjonY;

function setup() {
  createCanvas(600, 900);
  posisjonY = 20;
}

function draw() {
  background(20, 255, 170);
  fill(255);
  rect(275, posisjonY, 50, 50);
  posisjonY = posisjonY + 1;
}" aria-label="Kopier kode til utklippstavlen">Kopier</button></div> </article> <div class="flex justify-between mt-12 border-t-2 border-gray-700 pt-8"> <div> <a href="/p5js-workshop/workshop/medium/03-tegnespillet" class="block text-blue-300 hover:bg-gray-700 p-4 rounded border border-gray-600">
&larr; Tegnespillet </a> </div> <div> <a href="/p5js-workshop/workshop/medium/06-uendelig_bakke" class="block text-blue-300 hover:bg-gray-700 p-4 rounded border border-gray-600"> Uendelig bakke &rarr;
</a> </div> </div>  </div> </main> <script type="module">document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".copy-btn").forEach(e=>{e.textContent="Kopier",e.addEventListener("click",async()=>{const o=e.dataset.code;if(o)try{await navigator.clipboard.writeText(o);const t=e.textContent;e.textContent="Kopiert!",setTimeout(()=>{e.textContent=t},2e3)}catch(t){console.error("Failed to copy: ",t)}})})});</script> </body> </html>