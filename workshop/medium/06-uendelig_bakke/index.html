<!DOCTYPE html><html lang="no"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><title>Uendelig bakke</title><link rel="stylesheet" href="/p5js-workshop/_astro/index.DipRzuJ1.css"></head> <body class="bg-gray-900 text-white font-sans text-lg leading-relaxed"> <main class="flex"> <aside class="w-1/4 bg-gray-800 p-8 border-r-2 border-gray-700 sticky top-0 h-screen"> <h2 class="text-3xl font-bold mb-8">Meny</h2> <nav> <ul> <li class="mb-6"> <h3 class="text-2xl font-bold capitalize mb-2">Lett</h3> <ul> <li class="mb-1"> <a href="/p5js-workshop/workshop/easy/01-introduction" class="block text-blue-300 hover:bg-gray-700 p-2 rounded"> Introduksjon </a> </li><li class="mb-1"> <a href="/p5js-workshop/workshop/easy/02-drawing-shapes" class="block text-blue-300 hover:bg-gray-700 p-2 rounded"> Tegne figurer </a> </li><li class="mb-1"> <a href="/p5js-workshop/workshop/easy/03-images" class="block text-blue-300 hover:bg-gray-700 p-2 rounded"> Vise bilder </a> </li><li class="mb-1"> <a href="/p5js-workshop/workshop/easy/04-colors" class="block text-blue-300 hover:bg-gray-700 p-2 rounded"> Jobbe med farger </a> </li> </ul> </li><li class="mb-6"> <h3 class="text-2xl font-bold capitalize mb-2">Middels</h3> <ul> <li class="mb-1"> <a href="/p5js-workshop/workshop/medium/01-variables" class="block text-blue-300 hover:bg-gray-700 p-2 rounded"> Variabler </a> </li><li class="mb-1"> <a href="/p5js-workshop/workshop/medium/02-bouncing-ball" class="block text-blue-300 hover:bg-gray-700 p-2 rounded"> Sprettende ball </a> </li><li class="mb-1"> <a href="/p5js-workshop/workshop/medium/03-tegnespillet" class="block text-blue-300 hover:bg-gray-700 p-2 rounded"> Tegnespillet </a> </li><li class="mb-1"> <a href="/p5js-workshop/workshop/medium/04-tetris" class="block text-blue-300 hover:bg-gray-700 p-2 rounded"> Tetris </a> </li><li class="mb-1"> <a href="/p5js-workshop/workshop/medium/06-uendelig_bakke" class="block text-blue-300 hover:bg-gray-700 p-2 rounded"> Uendelig bakke </a> </li> </ul> </li><li class="mb-6"> <h3 class="text-2xl font-bold capitalize mb-2">Avansert</h3> <ul> <li class="mb-1"> <a href="/p5js-workshop/workshop/advanced/01-interactivity" class="block text-blue-300 hover:bg-gray-700 p-2 rounded"> Interaktivitet </a> </li> </ul> </li> </ul> </nav> </aside> <div class="w-3/4 p-12 overflow-y-auto"> <h1 class="text-5xl font-bold mb-8">Uendelig bakke</h1>  <article class="prose prose-invert max-w-none"> <h1 id="introduksjon">Introduksjon:</h1>
<p>I denne oppgava skal vi få underlaget til å bevege seg uendelig langt bortover. Det skal vi gjøre ved å ha to like bilder ved siden av hverandre som beveger seg til venstre. Med en gang et av bildene er kommet på utsiden av skjermen, så flytter vi det til høyre siden av det andre bildet slik at det ser ut som om vi har et langt bilde som beveger seg. Et slikt program kan brukes i et spill der spilleren skal løpe bortover, og bakken skal bevege seg for å få det til å se ut som om spilleren løper. Bildet er slik det sømløst kan legges ved siden av seg selv, og likevel henge naturlig sammen.</p>
<p>Når all koden er skrevet ferdig vil du ha en uendelig bakke som ruller bortover. Da har du begynnelsen av et spill som ser slik ut:</p>
<p><img src="/p5js-workshop/images/uendelig_bakke.png" alt="Uendelig bakke"></p>
<h2 id="steg-1-oppsett">Steg 1: Oppsett</h2>
<ul class="contains-task-list">
<li class="task-list-item">
<p><input type="checkbox" disabled> Start med å lage et nytt prosjekt i p5.js: <a href="https://editor.p5js.org/" target="_blank" rel="noreferrer"><code>https://editor.p5js.org/</code></a></p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled> Gi det navnet “Uendelig bakke”, ved å klikke på blyant-ikonet over teksteditoren og skrive inn navnet.</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled> Nå kan du også høyreklikke på dette bildet av en bakke, og lagre det på datamaskinen din: <img src="/p5js-workshop/images/bakke.png" alt="Bilde av en bakke"></p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled> Nå skal du last opp bildet til prosjektet ditt i p5.js Web Editor. Først klikker ”>” ved siden av “sketch.js”. Da vil du se filene i prosjektet ditt. “sketch.js” er filen der du skriver koden din. Klikke ”+” knappen ved siden av “Sketch Files”, og velg “Upload File”. Trekk og slipp bildet du lastet ned. Nå har du bildet i prosjektet ditt, og du kan bruke det i koden din!</p>
</li>
</ul>
<p>Så kan vi sette opp størrelsen på vinduet og en bakgrunnsfarge i vinduet.</p>
<h3 id="gjør-dette">Gjør dette</h3>
<ul class="contains-task-list">
<li class="task-list-item">
<p><input type="checkbox" disabled> I <code>setup</code>-metoden, altså mellom krøllparentesene etter setup skal du endre <code>createCanvas(400, 400);</code> til <code>createCanvas(800, 800);</code>. Vi gjør da vinduet større.</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled> I <code>draw</code>-metoden endrer du <code>background(220);</code> til <code>background(100, 100, 200);</code></p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled> Kjør programmet ved å klikke på Play-knappen øverst til venstre. Nå skal du se et blått vindu som er 800 piksler bredt og 800 piksler høyt. Feiler det, så sjekk at du har skrevet koden riktig.</p>
</li>
</ul>
<p>Koden skal nå se slik ut:</p>
<div class="code-wrapper"><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> setup</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">  createCanvas</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">800</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">800</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> draw</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">  background</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">100</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">100</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">200</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre><button class="copy-btn" type="button" data-code="function setup() {
  createCanvas(800, 800);
}

function draw() {
  background(100, 100, 200);
}" aria-label="Kopier kode til utklippstavlen">Kopier</button></div>
<hr>
<h3 id="forklaring-av-innebygde-metoder">Forklaring av innebygde metoder</h3>
<p>Både <code>createCanvas</code> og <code>background</code> er innebygde metoder, det betyr at noen har skrevet dem ferdig for oss og dermed kan vi bare bruke de når de treng. Når vi bruker metoder kalles å gjøre metodekall.</p>
<p>Tallene i metodekallet på <code>createCanvas</code> betyr hvor høyt og hvor bredt vinduet skal være. Tallene i background bestemer hvor mye rødt, grønt og blått det skal være. Hvert av de tallene kan bare være mellom 0 og 255.</p>
<p>Alt som står inni parentesene på en metode vi bruker er argumentene, eller parameterne, til metoden.</p>
<hr>
<h3 id="gjør-dette-1">Gjør dette</h3>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled> Endre argumentene til background til du finner en farge du liker.</li>
</ul>
<h2 id="steg-2-hente-inn-bilde">Steg 2: Hente inn bilde</h2>
<p>I <em><strong>p5.js</strong></em> kan et bilde bli lagret i en variabel, og hentes inn ved å bruke metoden <code>loadImage();</code>. Denne metoden tar navnet på bildet som et argument, og brukes gjerne inne i <code>setup</code>.</p>
<div class="code-wrapper"><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#F97583">let</span><span style="color:#E1E4E8"> bilde;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> setup</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">  createCanvas</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">800</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">800</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  bilde </span><span style="color:#F97583">=</span><span style="color:#B392F0"> loadImage</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"bakke.png"</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> draw</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">  background</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">100</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">100</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">200</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#B392F0">  image</span><span style="color:#E1E4E8">(bilde, </span><span style="color:#79B8FF">150</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">150</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">240</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">120</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre><button class="copy-btn" type="button" data-code="let bilde;

function setup() {
  createCanvas(800, 800);
  bilde = loadImage(&#x22;bakke.png&#x22;);
}

function draw() {
  background(100, 100, 200);
  image(bilde, 150, 150, 240, 120);
}" aria-label="Kopier kode til utklippstavlen">Kopier</button></div>
<p>Får første linje foran <code>setup</code>-metoden deklarerer vi variabelen <code>bilde</code>. Det er i denne variabelen vi skal lagre bildet av bakken. Det er viktig at vi deklarerer variabelen utenfor <code>setup</code>-metoden, fordi da kan vi bruke den i både <code>setup</code> og <code>draw</code>. Nå kan vi lese inn bildet i <code>setup</code>-metoden ved å bruke <code>loadImage</code>-metoden, og lagre det i variabelen <code>bilde</code>. I <code>draw</code>-metoden kan vi så bruke <code>image</code>-metoden for å tegne bildet på skjermen. Det første argumentet er bildet vi vil tegne, og de neste fire argumentene er x-posisjon, y-posisjon, bredde og høyde på bildet.</p>
<hr>
<h3 id="forklaring-av-image">Forklaring av image</h3>
<p>Det neste steget nå er å tegne bilde på skjermen, det gjør vi ved hjelp av metoden <code>image();</code>.
image er en metode som tar fem argumenter: image(img, x, y, b, h);</p>
<ul>
<li>img er bildet vi vil tegne, feks bilde1</li>
<li>x er hvor vi vil starte å tegne bildet på x-aksen</li>
<li>y er hvor vi vil starte å tegne bildet på y-aksen</li>
<li>b er hvor bredt vi vil at bildet skal være</li>
<li>h er hvor høyt vi vil at bildet skal være.</li>
</ul>
<hr>
<h3 id="prøv-dette">Prøv dette</h3>
<ul class="contains-task-list">
<li class="task-list-item">
<p><input type="checkbox" disabled> Endre tallene som er på plassen til x, y, b, h en om gangen og se hva som skjer.</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled> Finn tall som du liker.</p>
</li>
</ul>
<h2 id="steg-3-flere-bilder">Steg 3: Flere bilder</h2>
<p>Nå vil vi legge til enda et bilde, og få begge bildene til å bevege seg.</p>
<p>Siden vi skal bruke det samme bildet to ganger, trenger vi ikke å laste det inn på nytt. Vi kan bare bruke det samme bildet i to forskjellige <code>image</code>-metoder. Vi plasserer bildet til høyre for det første slik at de ligger helt inntil hverandre.</p>
<div class="code-wrapper"><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#F97583">let</span><span style="color:#E1E4E8"> bilde;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> setup</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">  createCanvas</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">800</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">800</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  bilde </span><span style="color:#F97583">=</span><span style="color:#B392F0"> loadImage</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"bakke.png"</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> draw</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">  background</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">100</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">100</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">200</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#B392F0">  image</span><span style="color:#E1E4E8">(bilde, </span><span style="color:#79B8FF">150</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">150</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">240</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">120</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#B392F0">  image</span><span style="color:#E1E4E8">(bilde, </span><span style="color:#79B8FF">390</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">150</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">240</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">120</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre><button class="copy-btn" type="button" data-code="let bilde;

function setup() {
  createCanvas(800, 800);
  bilde = loadImage(&#x22;bakke.png&#x22;);
}

function draw() {
  background(100, 100, 200);
  image(bilde, 150, 150, 240, 120);
  image(bilde, 390, 150, 240, 120);
}" aria-label="Kopier kode til utklippstavlen">Kopier</button></div>
<p><img src="/p5js-workshop/images/bakke2.png" alt="Uendelig bakke"></p>
<p>For å få bildene til å bevege på seg må vi få tallet i <code>x</code> plassen i <code>image</code>-metoden til å endre seg, for å få til dette må vi bruke to variabler, for eksempel <code>x1</code> og <code>x2</code>. Disse setter vi utenfor metodene våre under <code>let bilde;</code>.</p>
<p>I <code>setup</code> gir vi de verdier, feks 150 og 390 da begynner den første 150 pixler til høyre for venstresiden av vinduet. Den neste begynner 240 pixler til høyre for der igjen, som da blir helt tett inntil det første bildet. (Bildet er 240 pixler bredt).</p>
<p>Nå bytter vi ut variablene med <code>x</code> plassen i <code>image</code>-metoden.</p>
<div class="code-wrapper"><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#F97583">let</span><span style="color:#E1E4E8"> bilde;</span></span>
<span class="line"><span style="color:#F97583">let</span><span style="color:#E1E4E8"> x1;</span></span>
<span class="line"><span style="color:#F97583">let</span><span style="color:#E1E4E8"> x2;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> setup</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">  createCanvas</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">800</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">800</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  bilde </span><span style="color:#F97583">=</span><span style="color:#B392F0"> loadImage</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"bakke.png"</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  x1 </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 150</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">  x2 </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 390</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> draw</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">  background</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">100</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">100</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">200</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#B392F0">  image</span><span style="color:#E1E4E8">(bilde, x1, </span><span style="color:#79B8FF">150</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">240</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">120</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#B392F0">  image</span><span style="color:#E1E4E8">(bilde, x2, </span><span style="color:#79B8FF">150</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">240</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">120</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre><button class="copy-btn" type="button" data-code="let bilde;
let x1;
let x2;

function setup() {
  createCanvas(800, 800);
  bilde = loadImage(&#x22;bakke.png&#x22;);
  x1 = 150;
  x2 = 390;
}

function draw() {
  background(100, 100, 200);
  image(bilde, x1, 150, 240, 120);
  image(bilde, x2, 150, 240, 120);
}" aria-label="Kopier kode til utklippstavlen">Kopier</button></div>
<p>Fortsatt beveger de seg ikke når vi kjører koden, hva tror du det kan skyldes? For å gjøre det kan vi ta <code>x1 -= 2;</code> som betyr “ta verdien av x1, trekk ifra 2 og putt den nye verdien inn i x1”. Putt denne koden nederst i <code>draw</code>-metoden.</p>
<div class="code-wrapper"><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#E1E4E8">x1 </span><span style="color:#F97583">-=</span><span style="color:#79B8FF"> 2</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">x2 </span><span style="color:#F97583">-=</span><span style="color:#79B8FF"> 2</span><span style="color:#E1E4E8">;</span></span></code></pre><button class="copy-btn" type="button" data-code="x1 -= 2;
x2 -= 2;" aria-label="Kopier kode til utklippstavlen">Kopier</button></div>
<h3 id="prøv-selv">Prøv selv</h3>
<ul class="contains-task-list">
<li class="task-list-item">
<p><input type="checkbox" disabled> Hva skjer dersom du bytter ut minus tegnet med pluss tegn?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled> Hva skjer dersom du øker tallet til 5? eller 10?</p>
</li>
</ul>
<h2 id="steg-4-putt-bildet-tilbake">Steg 4: Putt bildet tilbake</h2>
<p>Når bildet forsvinner ut av skjermen vil vi at det skal bli puttet til høyre for det andre bildet slik at vi hele tiden har mer bakke.</p>
<p>For å få til det trenger vi en <code>if</code>-test for hver <code>x</code> variabel, det vil si at vi teste om høyresiden av bildet er ute av vinduet. Det kan vi skrive først med ord og så mer og mer til kode:</p>
<div class="code-wrapper"><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>Hvis høyresiden av bildet er ute av vinduet,</span></span>
<span class="line"><span>    så flytt bildet tilbake dit det starta</span></span></code></pre><button class="copy-btn" type="button" data-code="Hvis høyresiden av bildet er ute av vinduet,
    så flytt bildet tilbake dit det starta" aria-label="Kopier kode til utklippstavlen">Kopier</button></div>
<div class="code-wrapper"><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>Hvis x1 pluss bildebredden er mindre enn 0,</span></span>
<span class="line"><span>    pluss 480 på x1</span></span></code></pre><button class="copy-btn" type="button" data-code="Hvis x1 pluss bildebredden er mindre enn 0,
    pluss 480 på x1" aria-label="Kopier kode til utklippstavlen">Kopier</button></div>
<div class="code-wrapper"><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>Hvis(x1 + 240 &#x3C; 0) {</span></span>
<span class="line"><span>    x1 += 480</span></span>
<span class="line"><span>}</span></span></code></pre><button class="copy-btn" type="button" data-code="Hvis(x1 + 240 < 0) {
    x1 += 480
}" aria-label="Kopier kode til utklippstavlen">Kopier</button></div>
<div class="code-wrapper"><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>if(x1 + 240 &#x3C; 0) {</span></span>
<span class="line"><span>    x1 += 480;</span></span>
<span class="line"><span>}</span></span></code></pre><button class="copy-btn" type="button" data-code="if(x1 + 240 < 0) {
    x1 += 480;
}" aria-label="Kopier kode til utklippstavlen">Kopier</button></div>
<p>Dette må vi gjøre for begge x variablene. Legg merke til at vi kan skrive alt på en linje om vi vil, men det er lettere å lese om vi bruker flere linjer.</p>
<div class="code-wrapper"><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#E1E4E8">  x1 </span><span style="color:#F97583">-=</span><span style="color:#79B8FF"> 2</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">  x2 </span><span style="color:#F97583">-=</span><span style="color:#79B8FF"> 2</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">  if</span><span style="color:#E1E4E8">(x1 </span><span style="color:#F97583">+</span><span style="color:#79B8FF"> 240</span><span style="color:#F97583"> &#x3C;</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">){ x1 </span><span style="color:#F97583">+=</span><span style="color:#79B8FF"> 480</span><span style="color:#E1E4E8">; }</span></span>
<span class="line"><span style="color:#F97583">  if</span><span style="color:#E1E4E8">(x2 </span><span style="color:#F97583">+</span><span style="color:#79B8FF"> 240</span><span style="color:#F97583"> &#x3C;</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">){ x2 </span><span style="color:#F97583">+=</span><span style="color:#79B8FF"> 480</span><span style="color:#E1E4E8">; }</span></span></code></pre><button class="copy-btn" type="button" data-code="  x1 -= 2;
  x2 -= 2;

  if(x1 + 240 < 0){ x1 += 480; }
  if(x2 + 240 < 0){ x2 += 480; }" aria-label="Kopier kode til utklippstavlen">Kopier</button></div>
<hr>
<h3 id="testing">Testing</h3>
<p>Nå vet du det du trenger for å lage en uendeleg bevegelig bakke. For at det ikke skal se rart ut, prøv å sett bredden på vinduet til 240 bredt i createCanvas-metoden, da vil du ikke se at bakken popper frem på høyresiden, men det vil se ut som om bakken er uendelig lang og bare kommer og kommer.</p>
<hr>
<p>Hele koden ser nå slik ut:</p>
<div class="code-wrapper"><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#F97583">let</span><span style="color:#E1E4E8"> bilde;</span></span>
<span class="line"><span style="color:#F97583">let</span><span style="color:#E1E4E8"> x1;</span></span>
<span class="line"><span style="color:#F97583">let</span><span style="color:#E1E4E8"> x2;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> setup</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">  createCanvas</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">240</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">800</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  bilde </span><span style="color:#F97583">=</span><span style="color:#B392F0"> loadImage</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"bakke.png"</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  x1 </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 150</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">  x2 </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 390</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> draw</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">  background</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">100</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">100</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">200</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#B392F0">  image</span><span style="color:#E1E4E8">(bilde, x1, </span><span style="color:#79B8FF">150</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">240</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">120</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#B392F0">  image</span><span style="color:#E1E4E8">(bilde, x2, </span><span style="color:#79B8FF">150</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">240</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">120</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#E1E4E8">  x1 </span><span style="color:#F97583">-=</span><span style="color:#79B8FF"> 2</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">  x2 </span><span style="color:#F97583">-=</span><span style="color:#79B8FF"> 2</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">  if</span><span style="color:#E1E4E8">(x1 </span><span style="color:#F97583">+</span><span style="color:#79B8FF"> 240</span><span style="color:#F97583"> &#x3C;</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">){ x1 </span><span style="color:#F97583">+=</span><span style="color:#79B8FF"> 480</span><span style="color:#E1E4E8">; }</span></span>
<span class="line"><span style="color:#F97583">  if</span><span style="color:#E1E4E8">(x2 </span><span style="color:#F97583">+</span><span style="color:#79B8FF"> 240</span><span style="color:#F97583"> &#x3C;</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">){ x2 </span><span style="color:#F97583">+=</span><span style="color:#79B8FF"> 480</span><span style="color:#E1E4E8">; }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre><button class="copy-btn" type="button" data-code="let bilde;
let x1;
let x2;

function setup() {
  createCanvas(240, 800);
  bilde = loadImage(&#x22;bakke.png&#x22;);
  x1 = 150;
  x2 = 390;
}

function draw() {
  background(100, 100, 200);
  
  image(bilde, x1, 150, 240, 120);
  image(bilde, x2, 150, 240, 120);
  
  x1 -= 2;
  x2 -= 2;

  if(x1 + 240 < 0){ x1 += 480; }
  if(x2 + 240 < 0){ x2 += 480; }
}" aria-label="Kopier kode til utklippstavlen">Kopier</button></div> </article> <div class="flex justify-between mt-12 border-t-2 border-gray-700 pt-8"> <div> <a href="/p5js-workshop/workshop/medium/04-tetris" class="block text-blue-300 hover:bg-gray-700 p-4 rounded border border-gray-600">
&larr; Tetris </a> </div> <div>  </div> </div>  </div> </main> <script type="module">document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".copy-btn").forEach(e=>{e.textContent="Kopier",e.addEventListener("click",async()=>{const o=e.dataset.code;if(o)try{await navigator.clipboard.writeText(o);const t=e.textContent;e.textContent="Kopiert!",setTimeout(()=>{e.textContent=t},2e3)}catch(t){console.error("Failed to copy: ",t)}})})});</script> </body> </html>